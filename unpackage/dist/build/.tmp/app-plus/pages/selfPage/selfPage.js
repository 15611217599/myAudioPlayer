(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/selfPage/selfPage"],{"0370":function(e,t,n){"use strict";n.r(t);var a=n("e50e"),s=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);t["default"]=s.a},"0796":function(e,t,n){"use strict";var a=n("11ec"),s=n.n(a);s.a},"11ec":function(e,t,n){},5081:function(e,t,n){"use strict";(function(e){n("e36c"),n("921b");a(n("66fd"));var t=a(n("8f66"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},"8f66":function(e,t,n){"use strict";n.r(t);var a=n("a859"),s=n("0370");for(var o in s)"default"!==o&&function(e){n.d(t,e,function(){return s[e]})}(o);n("0796");var r,i=n("f0c5"),u=Object(i["a"])(s["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);t["default"]=u.exports},a859:function(e,t,n){"use strict";var a,s=function(){var e=this,t=e.$createElement,n=(e._self._c,e.userInfo.activeDate.split("T"));e.$mp.data=Object.assign({},{$root:{g0:n}})},o=[];n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a})},e50e:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=o(n("a34a"));function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return c(e)||u(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(e,t){var n=[],a=!0,s=!1,o=void 0;try{for(var r,i=e[Symbol.iterator]();!(a=(r=i.next()).done);a=!0)if(n.push(r.value),t&&n.length===t)break}catch(u){s=!0,o=u}finally{try{a||null==i["return"]||i["return"]()}finally{if(s)throw o}}return n}function c(e){if(Array.isArray(e))return e}function l(e,t,n,a,s,o,r){try{var i=e[o](r),u=i.value}catch(c){return void n(c)}i.done?t(u):Promise.resolve(u).then(a,s)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(a,s){var o=e.apply(t,n);function r(e){l(o,a,s,r,i,"next",e)}function i(e){l(o,a,s,r,i,"throw",e)}r(void 0)})}}var g=function(){return n.e("components/tabBar4").then(n.bind(null,"60e7"))},d={components:{tabBar4:g},data:function(){return{interval:[],timeUpdate:0,isshowPayPic:"false",isShowPay:"false",userInfo:"",sendMsg:"false",msg:"",currentPage:"selfPage",status:[{key:1,name:"登陆",url:"../../static/fumou-center-template/one.png"},{key:2,name:"注销",url:"../../static/fumou-center-template/2.png"}],menus:[{name:"我的下载",icon:"../../static/fumou-center-template/5.png",key:1},{name:"清除所有缓存",icon:"../../static/fumou-center-template/6.png",key:2},{name:"帮助中心",icon:"../../static/fumou-center-template/8.png",key:3},{name:"意见反馈",icon:"../../static/fumou-center-template/9.png",key:4},{name:"关于我们",icon:"../../static/fumou-center-template/10.png",key:5}]}},methods:{getInPutMsg:function(t){var n=t.detail.value;this.msg=n,console.log(e(t," at pages\\selfPage\\selfPage.vue:147"))},goForDetail:function(t){var n=t.key;if("1"==n)a.navigateTo({url:"downLoad/downLoad"});else if("2"==n){var s;try{s=a.getStorageInfoSync()}catch(t){a.showToast({title:"没有缓存!",duration:2e3})}finally{a.showModal({title:"删除所有缓存",content:"将会删除所有缓存,会影响下载内容以及播放列表,当前缓存大小:"+s.currentSize+"kb",success:function(t){t.confirm?(console.log(e("用户点击确定"," at pages\\selfPage\\selfPage.vue:171")),a.clearStorageSync(),a.showToast({title:"清除缓存成功!",duration:2e3})):t.cancel&&console.log(e("用户点击取消"," at pages\\selfPage\\selfPage.vue:179"))}})}}else"3"==n?a.navigateTo({url:"help/help"}):"4"==n?this.sendMsg="true":"5"==n&&a.showModal({title:"关于我们",content:"当前版本: 浣熊影视 V-1.0.1",success:function(t){t.confirm?console.log(e("用户点击确定"," at pages\\selfPage\\selfPage.vue:196")):t.cancel&&console.log(e("用户点击取消"," at pages\\selfPage\\selfPage.vue:198"))}})},goForStatus:function(t){var n=t.key;if("1"==n)a.navigateTo({url:"./xiaocong-login/login/login"});else if("2"==n){var s=a.getStorageSync("userinfo")||[];if(0==s.length)return void a.showToast({title:"没有登陆!",duration:2e3});var o=this;a.showModal({title:"注销",content:"确定注销当前账号吗?",success:function(t){t.confirm?(console.log(e("用户点击确定"," at pages\\selfPage\\selfPage.vue:228")),a.removeStorageSync("userinfo"),o.userInfo=a.getStorageSync("userinfo")||[],o.$forceUpdate(),a.showToast({title:"注销账号成功!",duration:2e3})):t.cancel&&console.log(e("用户点击取消"," at pages\\selfPage\\selfPage.vue:237"))}})}else"3"==n&&this.getPayState()},closeSendMsg:function(){this.sendMsg="false"},SendMsg:function(){this.closeSendMsg(),this.msg.trim().length>0?a.showToast({title:"发送成功!",duration:2e3}):a.showToast({title:"输入不能为空!",duration:2e3})},hidePayPicFunc:function(){this.isshowPayPic="false",this.timeUpdate=0,clearInterval(this.interval),this.consolePay()},getPayState:function(){var t=f(s.default.mark(function t(){var n,o,i,u,c,l;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.userInfo.name){t.next=3;break}return a.showToast({title:"请先登陆",duration:2e3}),t.abrupt("return");case 3:return t.next=5,a.request({url:this.$serverUrl+"/getPayState",data:this.userInfo.name,method:"POST",header:{"content-type":"application/json"}});case 5:if(n=t.sent,o=r(n,2),i=o[0],u=o[1],!i){t.next=13;break}console.log(e("请求支付失败:",i," at pages\\selfPage\\selfPage.vue:292")),t.next=20;break;case 13:if(c=u.data,c){t.next=17;break}return a.showToast({title:"请稍后尝试!",duration:2e3}),t.abrupt("return");case 17:this.isshowPayPic="true",l=this,this.interval=setInterval(function(){l.timeUpdate=l.timeUpdate+1,60==l.timeUpdate&&(l.timeUpdate=0,l.isshowPayPic="false",clearInterval(l.interval),a.showToast({title:"支付失败",duration:2e3}))},1e3);case 20:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),consolePay:function(){this.getRequest("consolePay",this.userInfo.name)},surePayed:function(){var t=f(s.default.mark(function t(){var n,o,i,u;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.request({url:this.$serverUrl+"/surePayed",data:this.userInfo.name,method:"POST",header:{"content-type":"application/json"}});case 2:n=t.sent,o=r(n,2),i=o[0],u=o[1],i?console.log(e("请求支付失败:",i," at pages\\selfPage\\selfPage.vue:340")):"0"==u.data.state?(a.setStorageSync("userinfo",u.data.userInfo),this.userInfo=u.data.userInfo,this.isshowPayPic="false",this.timeUpdate=0,clearInterval(this.interval),a.showToast({title:"支付成功!",duration:2e3})):a.showToast({title:"暂无结果,稍后查询!",duration:2e3});case 7:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),getRequest:function(){var t=f(s.default.mark(function t(n,o){var i,u,c,l;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.request({url:this.$serverUrl+"/"+n,data:o,method:"POST",header:{"content-type":"application/json"}});case 2:if(i=t.sent,u=r(i,2),c=u[0],l=u[1],!c){t.next=10;break}console.log(e("请求取消支付失败:",c," at pages\\selfPage\\selfPage.vue:378")),t.next=11;break;case 10:return t.abrupt("return",l.data);case 11:case"end":return t.stop()}},t,this)}));function n(e,n){return t.apply(this,arguments)}return n}()},computed:{},onLoad:function(){this.isShowPay=getApp().globalData.isShowPay,"true"==this.isShowPay&&this.status.push({key:3,name:"办理vip",url:"../../static/fumou-center-template/3.png"}),console.log(e("我的页获取是否启用vip"+this.isShowPay," at pages\\selfPage\\selfPage.vue:394"))},onShow:function(){this.userInfo=a.getStorageSync("userinfo")||[]}};t.default=d}).call(this,n("0de9")["default"],n("6e42")["default"])}},[["5081","common/runtime","common/vendor"]]]);